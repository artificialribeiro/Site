<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Detalhes do Produto | Boutique Diniz</title>
    
    <meta property="og:type" content="product">
    <meta property="og:site_name" content="Boutique Diniz">
    <meta property="og:title" id="seoTitle" content="Boutique Diniz | Produto Exclusivo">
    <meta property="og:description" id="seoDesc" content="Acesse para ver tamanhos, cores e adicionar ao seu carrinho.">
    <meta property="og:image" id="seoImage" content="https://via.placeholder.com/600x800/111/fff?text=Boutique+Diniz">

    <link rel="icon" type="image/png" href="logo.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Satisfy&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0" rel="stylesheet" />

    <style>
        body { background-color: #000; color: #fff; font-family: 'Montserrat', sans-serif; overflow-x: hidden; }
        .font-logo { font-family: 'Satisfy', cursive; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .thumb-ativa { border-color: #fff !important; opacity: 1 !important; }
        .variante-ativa { background-color: #fff; color: #000; border-color: #fff; }

        #lightboxImg { transition: transform 0.3s ease; }
        .product-card .img-hover { opacity: 0; transition: opacity 0.5s ease, transform 0.5s ease; }
        .product-card:hover .img-hover { opacity: 1; transform: scale(1.05); }
        .product-card:hover .img-main { opacity: 0; }
        .img-main { transition: opacity 0.5s ease, transform 0.5s ease; }
        .product-card:hover .img-main-only { transform: scale(1.05); }
    </style>

    <script src="motor-ia.js"></script>
</head>
<body class="bg-[#000000] text-white min-h-screen flex flex-col antialiased">

    <div id="app-header"></div>

    <div id="toastMessage" class="fixed top-24 right-4 bg-green-600 text-white px-6 py-3 rounded shadow-2xl transform translate-x-full transition-transform duration-300 z-[100] flex items-center gap-2 font-bold text-sm border border-green-500">
        <span class="material-symbols-outlined">check_circle</span>
        Adicionado ao carrinho com sucesso!
    </div>

    <main class="flex-grow pt-8 pb-16 max-w-7xl mx-auto w-full px-4 relative">
        
        <div id="loadingState" class="flex flex-col md:flex-row gap-10 animate-pulse">
            <div class="w-full md:w-1/2 bg-[#111] h-[500px] rounded-lg border border-gray-900"></div>
            <div class="w-full md:w-1/2 flex flex-col gap-4 pt-4">
                <div class="h-4 bg-[#111] w-24 rounded"></div>
                <div class="h-8 bg-[#111] w-3/4 rounded"></div>
                <div class="h-6 bg-[#111] w-32 rounded mt-4"></div>
                <div class="h-12 bg-[#111] w-full rounded mt-8"></div>
            </div>
        </div>

        <div id="produtoContainer" class="hidden flex-col md:flex-row gap-10 md:gap-16">
            
            <div class="w-full md:w-1/2 flex flex-col-reverse md:flex-row gap-4">
                <div id="galeriaThumbs" class="flex md:flex-col gap-3 overflow-x-auto md:overflow-y-auto no-scrollbar md:w-20 md:max-h-[600px]"></div>
                
                <div class="flex-1 bg-[#050505] border border-gray-900 rounded-lg overflow-hidden relative aspect-[3/4] md:aspect-auto md:h-[600px] group cursor-zoom-in" onclick="abrirLightbox()">
                    <img id="fotoPrincipal" src="" alt="Produto" class="w-full h-full object-cover transition-opacity duration-300 group-hover:scale-105 transition-transform">
                    <div id="tagDesconto" class="hidden absolute top-4 left-4 bg-white text-black text-xs font-bold px-3 py-1 uppercase tracking-wider rounded shadow-lg z-10"></div>
                    <div class="absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20 pointer-events-none">
                        <div class="bg-black/70 p-4 rounded-full text-white backdrop-blur-sm">
                            <span class="material-symbols-outlined text-3xl">zoom_in</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="w-full md:w-1/2 flex flex-col py-2">
                <nav class="text-[10px] uppercase tracking-widest text-gray-500 mb-4 flex gap-2">
                    <a href="site.html" class="hover:text-white transition-colors">In√≠cio</a> / 
                    <span id="txtCategoria" class="text-gray-300">Carregando...</span>
                </nav>

                <h1 id="txtNome" class="text-3xl md:text-4xl font-light text-white mb-2">Carregando...</h1>
                <p id="txtSku" class="text-xs text-gray-500 font-mono mb-6">SKU: ---</p>

                <div class="mb-6 bg-[#111] border border-gray-800 rounded p-4 flex flex-col gap-2">
                    <div class="flex items-center gap-2 text-sm text-green-400 font-medium">
                        <span class="material-symbols-outlined text-[18px]">storefront</span>
                        Retire na loja gr√°tis!
                    </div>
                    <div class="text-xs text-gray-400" id="txtUnidade">
                        üìç Dispon√≠vel na unidade: <b class="text-white">Carregando...</b>
                    </div>
                </div>

                <div class="flex items-end gap-3 mb-8 pb-6 border-b border-gray-900">
                    <span id="txtPrecoAtual" class="text-2xl font-medium text-white">R$ 0,00</span>
                    <span id="txtPrecoAntigo" class="text-sm text-gray-600 line-through mb-1 hidden">R$ 0,00</span>
                </div>

                <div id="variacoesContainer" class="flex flex-col gap-6 mb-8">
                    <div>
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-xs uppercase tracking-widest text-gray-400">Tamanho</h3>
                            <button onclick="abrirGuiaMedidas()" class="text-[10px] text-gray-500 hover:text-white underline decoration-gray-700 flex items-center gap-1">
                                <span class="material-symbols-outlined text-[14px]">straighten</span> Como saber minha medida?
                            </button>
                        </div>
                        <div id="gridTamanhos" class="flex flex-wrap gap-3"></div>
                    </div>

                    <div id="boxCores" class="hidden">
                        <h3 class="text-xs uppercase tracking-widest text-gray-400 mb-3">Cor</h3>
                        <div id="gridCores" class="flex flex-wrap gap-3"></div>
                    </div>
                </div>

                <div class="flex flex-col gap-3">
                    <button id="btnComprar" disabled class="w-full bg-white text-black font-bold uppercase tracking-widest py-4 rounded hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3">
                        <span class="material-symbols-outlined">local_mall</span>
                        Selecione um Tamanho
                    </button>

                    <button id="btnWhatsApp" class="w-full border border-[#25D366] text-[#25D366] font-bold uppercase tracking-widest py-3 rounded hover:bg-[#25D366]/10 transition-colors flex items-center justify-center gap-3">
                        <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51a12.8 12.8 0 0 0-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413Z"/></svg>
                        Compartilhar Look
                    </button>
                </div>

                <div class="mt-12">
                    <h3 class="text-xs uppercase tracking-widest text-gray-400 mb-4 pb-2 border-b border-gray-900">Detalhes do Produto</h3>
                    <div id="txtDescricao" class="text-sm text-gray-400 font-light leading-relaxed"></div>
                </div>
            </div>
        </div>

        <section id="sectionRecomendados" class="w-full mt-24 hidden border-t border-gray-900 pt-16">
            <div class="flex flex-col items-center justify-center text-center mb-10">
                <span class="material-symbols-outlined text-yellow-500 text-3xl mb-2">auto_awesome</span>
                <h2 class="text-2xl font-light text-white font-logo">Voc√™ tamb√©m pode gostar</h2>
                <p class="text-xs text-gray-500 uppercase tracking-widest mt-2">Pe√ßas selecionadas pela nossa Intelig√™ncia Artificial</p>
            </div>
            <div id="recomendadosContainer" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6"></div>
        </section>

    </main>

    <div id="app-footer"></div>

    <div id="modalLightbox" class="fixed inset-0 bg-black/95 z-[999] hidden flex-col items-center justify-center backdrop-blur-sm">
        <button onclick="fecharLightbox()" class="absolute top-6 right-6 bg-white/10 hover:bg-white/20 text-white rounded-full p-2 transition-colors z-50">
            <span class="material-symbols-outlined">close</span>
        </button>
        <p class="absolute top-6 left-6 text-xs text-gray-500 uppercase tracking-widest hidden md:block">Toque na imagem para ampliar</p>
        <div class="w-full h-full p-4 md:p-12 flex items-center justify-center overflow-auto no-scrollbar" onclick="this.querySelector('img').classList.toggle('scale-[1.5]'); this.querySelector('img').classList.toggle('cursor-zoom-out');">
            <img id="lightboxImg" src="" class="max-h-full max-w-full object-contain cursor-zoom-in transition-transform duration-300">
        </div>
    </div>

    <div id="modalGuia" class="fixed inset-0 bg-black/80 z-[999] hidden items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-[#111] border border-gray-800 w-full max-w-md rounded-lg overflow-hidden flex flex-col shadow-2xl">
            <div class="flex justify-between items-center p-4 border-b border-gray-800 bg-[#0a0a0a]">
                <h3 class="font-bold text-white uppercase tracking-widest text-sm">Guia de Medidas</h3>
                <button onclick="fecharGuiaMedidas()" class="text-gray-500 hover:text-white"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="p-6 text-sm text-gray-300 space-y-4">
                <div class="bg-yellow-900/30 border border-yellow-700/50 p-3 rounded text-yellow-500 mb-4">
                    <b class="flex items-center gap-1"><span class="material-symbols-outlined text-[16px]">lightbulb</span> Dica de Ouro!</b>
                    N√£o tem fita m√©trica? Use um peda√ßo de <b>barbante, fio de l√£ ou at√© cabo de celular</b> para contornar seu corpo. Depois, estique o fio ao lado de uma r√©gua escolar para saber os cent√≠metros exatos!
                </div>
                <p><b>1. Busto:</b> Passe a fita (ou o barbante) pelas costas e sobre a parte mais cheia do busto, respirando normalmente.</p>
                <p><b>2. Cintura:</b> Me√ßa a parte mais fina do seu tronco, geralmente dois dedos acima do umbigo.</p>
                <p><b>3. Quadril:</b> Fique de p√© com os p√©s juntos e contorne a fita na parte mais larga dos seus gl√∫teos.</p>
            </div>
            <div class="p-4 border-t border-gray-800 bg-[#0a0a0a]">
                <button onclick="fecharGuiaMedidas()" class="w-full bg-white text-black font-bold py-3 rounded">Entendi!</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { inicializarLayout } from './layout.js';
        
        document.addEventListener('DOMContentLoaded', async () => {
            inicializarLayout();
            setTimeout(async () => {
                await import('./buscador.js');
                await import('./vitrine-logic.js');
            }, 100);
        });
    </script>
</body>
</html>
